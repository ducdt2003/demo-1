<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1"/>
    <title>Phim Y√™u Th√≠ch</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"/>
    <link rel="stylesheet" th:href="@{/css/style.css}"/>
</head>

<body>
<header>
    <nav class="navbar navbar-expand-lg bg-dark">
        <div class="container">
            <a class="navbar-brand" href="/static">
                <img src="https://movie.techmaster.vn/assets/logo-C2IIl7EL.png" alt="logo"/>
            </a>
            <div class="navbar-nav">
                <a class="nav-link text-white" href="/static">Trang ch·ªß</a>
                <a class="nav-link text-white" href="/phim-bo">Phim b·ªô</a>
                <a class="nav-link text-white" href="/phim-chieu-rap">Phim chi·∫øu r·∫°p</a>
                <a class="nav-link text-white" href="/phim-le">Phim l·∫ª</a>
            </div>
        </div>
    </nav>
</header>

<section class="container mt-4">
    <h2 class="text-center">Chi ti·∫øt phim</h2>

    <div class="row">
        <div class="col-4">
            <img th:src="${movie.thumbnail}" class="img-fluid" th:alt="${movie.name}">
        </div>

        <div class="col-8">
            <h4 th:text="${movie.name}">T√™n phim</h4>
            <h5><span th:text="${movie.rating}"></span> ‚≠êÔ∏è</h5>

            <div class="bg-light p-3">
                <p><strong>Th·ªÉ lo·∫°i:</strong> <span th:each="genre : ${movie.genres}" th:text="${genre.name}"></span></p>
                <p><strong>NƒÉm s·∫£n xu·∫•t:</strong> <span th:text="${movie.releaseYear}"></span></p>
                <p><strong>Qu·ªëc gia:</strong> <span th:text="${movie.country.name}"></span></p>
                <p><strong>ƒê·∫°o di·ªÖn:</strong> <span th:each="director : ${movie.directors}" th:text="${director.name}"></span></p>
                <p><strong>Di·ªÖn vi√™n:</strong> <span th:each="actor : ${movie.actors}" th:text="${actor.name}"></span></p>
                <p><strong>M√¥ t·∫£:</strong> <span th:text="${movie.description}"></span></p>
            </div>

            <!-- N√∫t Xem Phim -->
            <th:block th:if="${!episodes.isEmpty()}" th:with="episode=${episodes.get(0)}">
                <a class="btn btn-danger mt-3 px-5"
                   th:href="'/xem-phim/' + ${movie.id} + '/' + ${movie.slug} + '?tap=' + ${movie.type.toString().equals('PHIM_BO') ? episode.displayOrder : 'full'}">
                    Xem phim
                </a>

                <!-- N√∫t Th√™m v√†o y√™u th√≠ch -->
                <form th:action="@{/favorites/add}" method="post" class="d-inline">
                    <input type="hidden" th:value="${movie.id}" name="movieId"/>
                    <input type="hidden" th:value="${user.id}" name="userId"/>
                    <button type="submit" class="btn btn-warning mt-3 px-5">üíñ Th√™m v√†o y√™u th√≠ch</button>
                </form>
            </th:block>
        </div>
    </div>
</section>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>